find_path(HIREDIS_INCLUDE_PATH NAMES hiredis/hiredis.h)
find_library(HIREDIS_LIBRARY NAMES hiredis)

if(HIREDIS_INCLUDE_PATH AND HIREDIS_LIBRARY)
    set(HIREDIS_FOUND TRUE)
endif(HIREDIS_INCLUDE_PATH AND HIREDIS_LIBRARY)

if(HIREDIS_FOUND)
    if(NOT HIREDIS_FIND_QUIETLY)
        message(STATUS "Found Hiredis: ${HIREDIS_LIBRARY}; includes - ${HIREDIS_INCLUDE_PATH}")
    endif(NOT HIREDIS_FIND_QUIETLY)
else(HIREDIS_FOUND)
    if(HIREDIS_FIND_REQUIRED)
        message(FATAL_ERROR "Could not find Hiredis library.")
    endif(HIREDIS_FIND_REQUIRED)
endif(HIREDIS_FOUND)